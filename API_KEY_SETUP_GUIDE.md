# API Key é…ç½®æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

ç°åœ¨æ‰©å±•æ”¯æŒé€šè¿‡è®¾ç½®é¡µé¢å®‰å…¨åœ°é…ç½® OpenAI API Keyï¼Œæ— éœ€ä¿®æ”¹æºä»£ç ï¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¬¬ 1 æ­¥ï¼šå®‰è£…æ‰©å±•

```bash
# è§£å‹å®‰è£…åŒ…
unzip InvoiceAutomation-ChromeExtension-v1.2.0.zip -d InvoiceAutomation-v1.2.0

# åœ¨ Chrome ä¸­å®‰è£…
# 1. è®¿é—® chrome://extensions/
# 2. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
# 3. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
# 4. é€‰æ‹© InvoiceAutomation-v1.2.0/extension æ–‡ä»¶å¤¹
```

### ç¬¬ 2 æ­¥ï¼šé…ç½® API Key

å®‰è£…åï¼Œæœ‰ä¸¤ç§æ–¹å¼æ‰“å¼€è®¾ç½®é¡µé¢ï¼š

#### æ–¹å¼ 1ï¼šé€šè¿‡æ‰©å±•å¼¹çª—

1. ç‚¹å‡»æ‰©å±•å›¾æ ‡æ‰“å¼€å¼¹çª—
2. ç‚¹å‡»åº•éƒ¨çš„ã€Œâš™ï¸ è®¾ç½®ã€é“¾æ¥
3. è‡ªåŠ¨æ‰“å¼€è®¾ç½®é¡µé¢

#### æ–¹å¼ 2ï¼šé€šè¿‡æ‰©å±•ç®¡ç†é¡µé¢

1. è®¿é—® `chrome://extensions/`
2. æ‰¾åˆ° "Invoice Automation for Procore"
3. ç‚¹å‡»ã€Œè¯¦æƒ…ã€æŒ‰é’®
4. ç‚¹å‡»ã€Œæ‰©å±•ç¨‹åºé€‰é¡¹ã€
5. æ‰“å¼€è®¾ç½®é¡µé¢

### ç¬¬ 3 æ­¥ï¼šè¾“å…¥ API Key

1. åœ¨è®¾ç½®é¡µé¢ä¸­æ‰¾åˆ°ã€ŒAPI é…ç½®ã€éƒ¨åˆ†
2. åœ¨ã€ŒOpenAI API Keyã€è¾“å…¥æ¡†ä¸­è¾“å…¥æ‚¨çš„ API Key
   - æ ¼å¼ï¼š`sk-...`
   - ç‚¹å‡»çœ¼ç›å›¾æ ‡å¯ä»¥æ˜¾ç¤º/éšè—å¯†ç 
3. ï¼ˆå¯é€‰ï¼‰è‡ªå®šä¹‰ã€ŒAPI åœ°å€ã€
   - é»˜è®¤ï¼š`https://api.openai.com/v1/chat/completions`
   - å¦‚æœä½¿ç”¨ä»£ç†æœåŠ¡ï¼Œå¯ä»¥ä¿®æ”¹ä¸ºä»£ç†åœ°å€
4. ç‚¹å‡»ã€ŒğŸ§ª æµ‹è¯•è¿æ¥ã€éªŒè¯ API Key æ˜¯å¦æœ‰æ•ˆ
5. ç‚¹å‡»ã€ŒğŸ’¾ ä¿å­˜è®¾ç½®ã€ä¿å­˜é…ç½®

### ç¬¬ 4 æ­¥ï¼šå¼€å§‹ä½¿ç”¨

ä¿å­˜è®¾ç½®åï¼Œæ‰©å±•ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½ã€‚ç°åœ¨å¯ä»¥ï¼š

1. ç‚¹å‡»æ‰©å±•å›¾æ ‡
2. ä¸Šä¼  PDF å‘ç¥¨
3. AI è‡ªåŠ¨è¯†åˆ«å‘ç¥¨ä¿¡æ¯
4. ä¸€é”®å¡«å†™åˆ° Procore

## ğŸ”§ è®¾ç½®é¡µé¢åŠŸèƒ½è¯¦è§£

### API é…ç½®

| å­—æ®µ | å¿…å¡« | è¯´æ˜ |
|------|------|------|
| OpenAI API Key | âœ… | ä» [OpenAI Platform](https://platform.openai.com/api-keys) è·å– |
| API åœ°å€ | â¬œ | é»˜è®¤ä½¿ç”¨ OpenAI å®˜æ–¹åœ°å€ï¼Œå¯è‡ªå®šä¹‰ |

### æ›´æ–°è®¾ç½®

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| å¯ç”¨è‡ªåŠ¨æ›´æ–°æ£€æŸ¥ | æ¯24å°æ—¶è‡ªåŠ¨æ£€æŸ¥ä¸€æ¬¡æ–°ç‰ˆæœ¬ |
| å½“å‰ç‰ˆæœ¬ | æ˜¾ç¤ºå·²å®‰è£…çš„æ‰©å±•ç‰ˆæœ¬ |
| æœ€åæ£€æŸ¥æ—¶é—´ | æ˜¾ç¤ºä¸Šæ¬¡æ£€æŸ¥æ›´æ–°çš„æ—¶é—´ |
| ç«‹å³æ£€æŸ¥æ›´æ–° | æ‰‹åŠ¨æ£€æŸ¥æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬ |

### åŠŸèƒ½æŒ‰é’®

| æŒ‰é’® | åŠŸèƒ½ |
|------|------|
| ğŸ§ª æµ‹è¯•è¿æ¥ | éªŒè¯ API Key å’Œ API åœ°å€æ˜¯å¦æ­£ç¡® |
| ğŸ’¾ ä¿å­˜è®¾ç½® | ä¿å­˜æ‰€æœ‰é…ç½®å¹¶é‡æ–°åŠ è½½æ‰©å±• |
| ğŸ”„ ç«‹å³æ£€æŸ¥æ›´æ–° | æ‰‹åŠ¨æ£€æŸ¥æ‰©å±•æ›´æ–° |

## ğŸ§ª æµ‹è¯• API é…ç½®

### æµ‹è¯•æ­¥éª¤

1. æ‰“å¼€è®¾ç½®é¡µé¢
2. è¾“å…¥ API Key
3. ç‚¹å‡»ã€ŒğŸ§ª æµ‹è¯•è¿æ¥ã€
4. ç­‰å¾…æµ‹è¯•ç»“æœ

### æµ‹è¯•ç»“æœè¯´æ˜

**âœ… æˆåŠŸ**
```
âœ… API è¿æ¥æµ‹è¯•æˆåŠŸï¼
```
è¯´æ˜ API Key æœ‰æ•ˆï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚

**âŒ å¤±è´¥**
```
âŒ API æµ‹è¯•å¤±è´¥: Incorrect API key provided
```
å¯èƒ½çš„åŸå› ï¼š
- API Key è¾“å…¥é”™è¯¯
- API Key å·²è¿‡æœŸ
- API Key æƒé™ä¸è¶³
- ç½‘ç»œè¿æ¥é—®é¢˜

**âŒ è¿æ¥å¤±è´¥**
```
âŒ è¿æ¥å¤±è´¥: Failed to fetch
```
å¯èƒ½çš„åŸå› ï¼š
- ç½‘ç»œæ— æ³•è®¿é—® OpenAI API
- API åœ°å€é…ç½®é”™è¯¯
- éœ€è¦ä½¿ç”¨ä»£ç†

## ğŸ” å®‰å…¨æ€§è¯´æ˜

### API Key å­˜å‚¨

- API Key ä½¿ç”¨ Chrome çš„ `chrome.storage.local` API å®‰å…¨å­˜å‚¨
- æ•°æ®ä»…ä¿å­˜åœ¨æœ¬åœ°ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨
- åªæœ‰å½“å‰æ‰©å±•å¯ä»¥è®¿é—®å­˜å‚¨çš„æ•°æ®

### æ˜¾ç¤º/éšè—

- è¾“å…¥æ¡†é»˜è®¤ä¸ºå¯†ç ç±»å‹ï¼ˆæ˜¾ç¤ºä¸º `â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢`ï¼‰
- ç‚¹å‡»çœ¼ç›å›¾æ ‡å¯ä»¥ä¸´æ—¶æ˜¾ç¤ºå¯†ç 
- å…³é—­è®¾ç½®é¡µé¢åè‡ªåŠ¨éšè—

### æœ€ä½³å®è·µ

1. âœ… ä½¿ç”¨ä¸“é—¨çš„ API Key ç”¨äºæ­¤æ‰©å±•
2. âœ… å®šæœŸè½®æ¢ API Key
3. âœ… ä¸è¦æˆªå›¾æˆ–åˆ†äº«åŒ…å« API Key çš„è®¾ç½®é¡µé¢
4. âŒ ä¸è¦åœ¨å…¬å…±ç”µè„‘ä¸Šä¿å­˜ API Key
5. âŒ ä¸è¦å°† API Key æäº¤åˆ°ä»£ç ä»“åº“

## ğŸŒ ä½¿ç”¨ä»£ç†æœåŠ¡

å¦‚æœæ— æ³•ç›´æ¥è®¿é—® OpenAI APIï¼Œå¯ä»¥ä½¿ç”¨ä»£ç†æœåŠ¡ï¼š

### é…ç½®ä»£ç†

1. è·å–ä»£ç†æœåŠ¡çš„ API ç«¯ç‚¹
   - ç¤ºä¾‹ï¼š`https://your-proxy.com/v1/chat/completions`
2. åœ¨è®¾ç½®é¡µé¢çš„ã€ŒAPI åœ°å€ã€ä¸­è¾“å…¥ä»£ç†åœ°å€
3. è¾“å…¥ä»£ç†æœåŠ¡æä¾›çš„ API Key
4. ç‚¹å‡»ã€Œæµ‹è¯•è¿æ¥ã€éªŒè¯
5. ä¿å­˜è®¾ç½®

### å¸¸è§ä»£ç†æœåŠ¡

- OpenAI å®˜æ–¹ï¼ˆé»˜è®¤ï¼‰ï¼š`https://api.openai.com/v1/chat/completions`
- Azure OpenAIï¼š`https://{your-resource}.openai.azure.com/openai/deployments/{deployment-id}/chat/completions?api-version=2024-02-15-preview`
- å…¶ä»–ä»£ç†æœåŠ¡ï¼šæ ¹æ®æœåŠ¡å•†æ–‡æ¡£é…ç½®

## â“ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•è·å– OpenAI API Keyï¼Ÿ

**A**:
1. è®¿é—® https://platform.openai.com/
2. ç™»å½•æˆ–æ³¨å†Œè´¦å·
3. è¿›å…¥ https://platform.openai.com/api-keys
4. ç‚¹å‡»ã€ŒCreate new secret keyã€
5. å¤åˆ¶ç”Ÿæˆçš„ API Keyï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰

### Q2: API Key ä¼šè¿‡æœŸå—ï¼Ÿ

**A**: OpenAI API Key é»˜è®¤ä¸ä¼šè¿‡æœŸï¼Œé™¤éæ‚¨æ‰‹åŠ¨åˆ é™¤ã€‚ä½†å»ºè®®ï¼š
- å®šæœŸè½®æ¢ API Keyï¼ˆå¦‚æ¯3-6ä¸ªæœˆï¼‰
- å¦‚æœå‘ç°å¼‚å¸¸ä½¿ç”¨ï¼Œç«‹å³é‡æ–°ç”Ÿæˆ

### Q3: é…ç½®åè¿˜æ˜¯æç¤ºã€Œæœªé…ç½® API Keyã€ï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. æ˜¯å¦ç‚¹å‡»äº†ã€Œä¿å­˜è®¾ç½®ã€æŒ‰é’®ï¼Ÿ
2. æ˜¯å¦ç­‰å¾…æ‰©å±•é‡æ–°åŠ è½½å®Œæˆï¼Ÿ
3. å°è¯•å®Œå…¨å…³é—­å¹¶é‡æ–°æ‰“å¼€ Chrome
4. æ£€æŸ¥ Chrome æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### Q4: æµ‹è¯•è¿æ¥æˆåŠŸï¼Œä½†ä½¿ç”¨æ—¶å¤±è´¥ï¼Ÿ

**A**: å¯èƒ½çš„åŸå› ï¼š
1. API Key ä½™é¢ä¸è¶³
2. è¾¾åˆ° API è°ƒç”¨é¢‘ç‡é™åˆ¶
3. ç½‘ç»œä¸ç¨³å®š
4. PDF æ–‡ä»¶è¿‡å¤§å¯¼è‡´è¶…æ—¶

### Q5: å¯ä»¥åœ¨å¤šå°ç”µè„‘ä¸Šä½¿ç”¨åŒä¸€ä¸ª API Key å—ï¼Ÿ

**A**: å¯ä»¥ï¼ä½†æ˜¯ï¼š
- æ‰€æœ‰è®¾å¤‡å…±äº« API è°ƒç”¨é…é¢
- éœ€è¦åœ¨æ¯å°ç”µè„‘ä¸Šå•ç‹¬é…ç½®
- å»ºè®®ä½¿ç”¨ Chrome åŒæ­¥åŠŸèƒ½ï¼ˆæœªæ¥ç‰ˆæœ¬æ”¯æŒï¼‰

### Q6: å¦‚ä½•ä¿®æ”¹å·²ä¿å­˜çš„ API Keyï¼Ÿ

**A**:
1. æ‰“å¼€è®¾ç½®é¡µé¢
2. å½“å‰ API Key ä¼šä»¥å¯†ç å½¢å¼æ˜¾ç¤º
3. ç›´æ¥è¾“å…¥æ–°çš„ API Key
4. ç‚¹å‡»ã€Œæµ‹è¯•è¿æ¥ã€éªŒè¯æ–° Key
5. ç‚¹å‡»ã€Œä¿å­˜è®¾ç½®ã€

### Q7: å¦‚ä½•åˆ é™¤å·²ä¿å­˜çš„ API Keyï¼Ÿ

**A**:
```javascript
// æ–¹æ³• 1ï¼šé€šè¿‡è®¾ç½®é¡µé¢
// å°† API Key è¾“å…¥æ¡†æ¸…ç©ºåä¿å­˜ï¼ˆä¼šæç¤ºé”™è¯¯ï¼‰

// æ–¹æ³• 2ï¼šé€šè¿‡ Chrome DevTools
chrome.storage.local.remove(['openai_api_key', 'openai_api_url']);

// æ–¹æ³• 3ï¼šå¸è½½æ‰©å±•
// å¸è½½æ‰©å±•ä¼šè‡ªåŠ¨æ¸…é™¤æ‰€æœ‰æ•°æ®
```

## ğŸ“Š ä½¿ç”¨ç›‘æ§

### æŸ¥çœ‹ API ä½¿ç”¨æƒ…å†µ

1. è®¿é—® https://platform.openai.com/usage
2. æŸ¥çœ‹ API è°ƒç”¨æ¬¡æ•°å’Œè´¹ç”¨
3. è®¾ç½®ä½¿ç”¨é™é¢é¿å…è¶…æ”¯

### ä¼°ç®—æˆæœ¬

ä½¿ç”¨ GPT-4o å¤„ç†ä¸€å¼ å‘ç¥¨ï¼š
- è¾“å…¥ï¼šçº¦ 1000 tokensï¼ˆå›¾ç‰‡ + æç¤ºè¯ï¼‰
- è¾“å‡ºï¼šçº¦ 200 tokensï¼ˆJSON ç»“æœï¼‰
- æˆæœ¬ï¼šçº¦ $0.01-0.02 USD/å¼ 

å¦‚æœæ¯å¤©å¤„ç† 50 å¼ å‘ç¥¨ï¼š
- æœˆæˆæœ¬ï¼šçº¦ $15-30 USD

## ğŸ”„ æ›´æ–° API Key

å½“æ‚¨éœ€è¦æ›´æ¢ API Key æ—¶ï¼ˆå¦‚ Key æ³„éœ²ã€å®šæœŸè½®æ¢ï¼‰ï¼š

### æ­¥éª¤

1. **ç”Ÿæˆæ–°çš„ API Key**
   - è®¿é—® https://platform.openai.com/api-keys
   - åˆ›å»ºæ–°çš„ API Key
   - å¤åˆ¶æ–° Key

2. **æ›´æ–°æ‰©å±•é…ç½®**
   - æ‰“å¼€è®¾ç½®é¡µé¢
   - è¾“å…¥æ–°çš„ API Key
   - æµ‹è¯•è¿æ¥
   - ä¿å­˜è®¾ç½®

3. **åˆ é™¤æ—§çš„ API Key**
   - è¿”å› OpenAI Platform
   - åˆ é™¤æ—§çš„ API Key
   - ç¡®ä¿æ—§ Key æ— æ³•ç»§ç»­ä½¿ç”¨

## ğŸ“ è¿›é˜¶æŠ€å·§

### 1. ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆå¼€å‘è€…ï¼‰

å¦‚æœæ‚¨æ˜¯å¼€å‘è€…ï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®é»˜è®¤ API Keyï¼š

```javascript
// åœ¨ service-worker.js ä¸­
const CONFIG = {
  OPENAI_API_KEY: process.env.OPENAI_API_KEY || '',
  // ...
};
```

### 2. å›¢é˜Ÿå…±äº«é…ç½®ï¼ˆä¼ä¸šç”¨æˆ·ï¼‰

å¯¹äºä¼ä¸šç”¨æˆ·ï¼Œå¯ä»¥ï¼š
1. ä½¿ç”¨ä¼ä¸šç»Ÿä¸€çš„ OpenAI è´¦å·
2. åˆ›å»ºç»„ç»‡çº§åˆ«çš„ API Key
3. è®¾ç½®ä½¿ç”¨é…é¢å’Œç›‘æ§
4. å®šæœŸå®¡è®¡ API ä½¿ç”¨æƒ…å†µ

### 3. è‡ªåŠ¨åŒ–æµ‹è¯•

```javascript
// ä½¿ç”¨ Playwright è‡ªåŠ¨æµ‹è¯• API é…ç½®
test('Configure API Key', async ({ page }) => {
  await page.goto('chrome-extension://your-extension-id/settings.html');
  await page.fill('#apiKeyInput', 'sk-test-key');
  await page.click('#testApiBtn');
  await expect(page.locator('.status-message')).toContainText('æˆåŠŸ');
});
```

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ–‡æ¡£**
   - æœ¬æ–‡æ¡£
   - DEPLOYMENT_COMPLETE.md
   - ONLINE_UPDATE_GUIDE.md

2. **æ£€æŸ¥æ—¥å¿—**
   - æ‰“å¼€ Chrome DevTools (F12)
   - æŸ¥çœ‹ Console æ ‡ç­¾
   - æŸ¥æ‰¾é”™è¯¯ä¿¡æ¯

3. **æäº¤åé¦ˆ**
   - GitHub Issues: https://github.com/jundongGit/PO-workflow/issues
   - æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œæˆªå›¾

## âœ¨ ä¸‹ä¸€æ­¥

é…ç½®å®Œæˆåï¼Œæ‚¨å¯ä»¥ï¼š

1. âœ… æµ‹è¯•ä¸Šä¼  PDF å‘ç¥¨
2. âœ… éªŒè¯ AI è¯†åˆ«å‡†ç¡®æ€§
3. âœ… æµ‹è¯• Procore è‡ªåŠ¨å¡«è¡¨
4. âœ… å¼€å¯è‡ªåŠ¨æ›´æ–°æ£€æŸ¥
5. âœ… æ¨èç»™å›¢é˜Ÿä½¿ç”¨

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹å®Œæ•´æ–‡æ¡£æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚
